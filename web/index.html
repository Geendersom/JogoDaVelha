<!-- Criado por Geêndersom Araújo -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo da Velha</title>
    <link rel="icon" type="image/png" href="../favicon.png">
    <link rel="stylesheet" href="styles.css">
    <script>
        // Redirecionamento imediato para seleção de jogadores se não houver jogadores selecionados
        (function() {
            const jogador1 = sessionStorage.getItem('jogador1');
            const jogador2 = sessionStorage.getItem('jogador2');
            
            if (!jogador1 || !jogador2) {
                window.location.replace('selecao.html');
            }
        })();
    </script>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
    <script src="mensagens.js"></script>
</head>
<body>
    <!-- Botão de refresh no canto superior direito -->
    <button class="btn-refresh" id="btn-refresh" title="Reiniciar tudo">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"></path>
            <path d="M21 3v5h-5"></path>
            <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"></path>
            <path d="M3 21v-5h5"></path>
        </svg>
    </button>

    <!-- Controle de som abaixo do botão refresh -->
    <div class="controle-som-wrapper">
        <button class="btn-som" id="btn-som" title="Alternar som">
            <!-- Ícone de som ativo -->
            <svg class="som-icone som-ativo" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M11 5L6 9H2v6h4l5 4V5z"></path>
                <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path>
            </svg>
            <!-- Ícone de som mutado -->
            <svg class="som-icone som-mutado" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;">
                <path d="M11 5L6 9H2v6h4l5 4V5z"></path>
                <line x1="23" y1="9" x2="17" y2="15"></line>
                <line x1="17" y1="9" x2="23" y2="15"></line>
            </svg>
        </button>
        <div class="volume-control" id="volume-control" style="display: none;">
            <input type="range" class="volume-slider" id="volume-slider" min="0" max="100" value="100" title="Volume">
        </div>
    </div>

    <!-- Wrapper principal para layout horizontal -->
    <div class="main-game-wrapper">
        <!-- Jogador 1 - Esquerda (fora do card) -->
        <div class="contador-jogador-wrapper">
            <div id="turno-display-jogador1" class="turno-display-jogador" style="display: none;"></div>
            <div class="contador-jogador contador-esquerda" id="contador-jogador1">
                <div class="contador-imagem" id="imagem-jogador1"></div>
                <div class="contador-info">
                    <span class="contador-nome">Jogador 1</span>
                    <span class="contador-pontos" id="pontos-jogador1">0</span>
                </div>
            </div>
        </div>
        
        <!-- Container do tabuleiro -->
        <div class="container">
            <!-- Título dentro do card principal -->
            <div class="titulo-card">
                <h1>JOGO DA VELHA</h1>
            </div>
            
            <div id="status" class="status">CARREGANDO JOGO!</div>
            
            <!-- Tabuleiro - Centro -->
            <div class="tabuleiro-wrapper">
                <div class="tabuleiro" id="tabuleiro">
                    <div class="celula" data-pos="7"></div>
                    <div class="celula" data-pos="8"></div>
                    <div class="celula" data-pos="9"></div>
                    <div class="celula" data-pos="4"></div>
                    <div class="celula" data-pos="5"></div>
                    <div class="celula" data-pos="6"></div>
                    <div class="celula" data-pos="1"></div>
                    <div class="celula" data-pos="2"></div>
                    <div class="celula" data-pos="3"></div>
                    <div class="linha-vitoria" id="linha-vitoria"></div>
                </div>
                <!-- Mensagem de vitória dentro do card do tabuleiro -->
                <div id="vitoria-display" class="vitoria-display" style="display: none;"></div>
            </div>
        </div>
        
        <!-- Jogador 2 - Direita (fora do card) -->
        <div class="contador-jogador-wrapper">
            <div id="turno-display-jogador2" class="turno-display-jogador" style="display: none;"></div>
            <div class="contador-jogador contador-direita" id="contador-jogador2">
                <div class="contador-imagem" id="imagem-jogador2"></div>
                <div class="contador-info">
                    <span class="contador-nome">Jogador 2</span>
                    <span class="contador-pontos" id="pontos-jogador2">0</span>
                </div>
            </div>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>
