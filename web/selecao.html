<!-- Criado por Geêndersom Araújo -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seleção de Jogadores - Jogo da Velha</title>
    <link rel="icon" type="image/png" href="../favicon.png">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Título em card neon (igual ao jogo) -->
    <div class="titulo-card">
        <h1>JOGO DA VELHA</h1>
    </div>

    <div class="selecao-container">
        <div class="jogadores-wrapper">
                <!-- Jogador 1 -->
                <div class="jogador-selecao" id="jogador1-selecao">
                    <h2>Jogador 1</h2>
                    
                    <!-- Campo de nome -->
                    <div class="nome-selecao">
                        <!-- <label for="nome-jogador1">Nome:</label> --> 
                        <input type="text" id="nome-jogador1" class="nome-input" placeholder="Digite seu nome" maxlength="20">
                    </div>
                    
                    <div class="imagens-grid">
                        <div class="imagem-opcao" data-imagem="batman.png" data-jogador="1" data-nome="Batman">
                            <div class="imagem-preview">
                                <img src="../assets/batman.png" alt="Batman">
                            </div>
                        </div>
                        <div class="imagem-opcao" data-imagem="capitão.png" data-jogador="1" data-nome="Capitão América">
                            <div class="imagem-preview">
                                <img src="../assets/capitão.png" alt="Capitão">
                            </div>
                        </div>
                        <div class="imagem-opcao" data-imagem="flash.png" data-jogador="1" data-nome="Flash">
                            <div class="imagem-preview">
                                <img src="../assets/flash.png" alt="Flash">
                            </div>
                        </div>
                        <div class="imagem-opcao" data-imagem="hulk.png" data-jogador="1" data-nome="Hulk">
                            <div class="imagem-preview">
                                <img src="../assets/hulk.png" alt="Hulk">
                            </div>
                        </div>
                        <div class="imagem-opcao" data-imagem="lanterna verde.png" data-jogador="1" data-nome="Lanterna Verde">
                            <div class="imagem-preview">
                                <img src="../assets/lanterna verde.png" alt="Lanterna Verde">
                            </div>
                        </div>
                        <div class="imagem-opcao" data-imagem="spider-man.png" data-jogador="1" data-nome="Spider-Man">
                            <div class="imagem-preview">
                                <img src="../assets/spider-man.png" alt="Spider-Man">
                            </div>
                        </div>
                        <div class="imagem-opcao" data-imagem="superman.png" data-jogador="1" data-nome="Superman">
                            <div class="imagem-preview">
                                <img src="../assets/superman.png" alt="Superman">
                            </div>
                        </div>
                        <div class="imagem-opcao" data-imagem="thor.png" data-jogador="1" data-nome="Thor">
                            <div class="imagem-preview">
                                <img src="../assets/thor.png" alt="Thor">
                            </div>
                        </div>
                        <div class="imagem-opcao" data-imagem="wolverine.png" data-jogador="1" data-nome="Wolverine">
                            <div class="imagem-preview">
                                <img src="../assets/wolverine.png" alt="Wolverine">
                            </div>
                        </div>
                    </div>
                    <div class="simbolo-selecao">
                        <label>Símbolo:</label>
                        <div class="simbolos-opcoes">
                            <button class="simbolo-btn ativo" data-simbolo="X" data-jogador="1">X</button>
                            <button class="simbolo-btn" data-simbolo="O" data-jogador="1">O</button>
                        </div>
                    </div>
                </div>

                <!-- Jogador 2 -->
                <div class="jogador-selecao" id="jogador2-selecao">
                    <h2>Jogador 2</h2>
                    
                    <!-- Campo de nome -->
                    <div class="nome-selecao">
                        <!-- <label for="nome-jogador2">Nome:</label> --> 
                        <input type="text" id="nome-jogador2" class="nome-input" placeholder="Digite seu nome" maxlength="20">
                    </div>
                    
                    <div class="imagens-grid">
                        <div class="imagem-opcao" data-imagem="batman.png" data-jogador="2" data-nome="Batman">
                            <div class="imagem-preview">
                                <img src="../assets/batman.png" alt="Batman">
                            </div>
                        </div>
                        <div class="imagem-opcao" data-imagem="capitão.png" data-jogador="2" data-nome="Capitão América">
                            <div class="imagem-preview">
                                <img src="../assets/capitão.png" alt="Capitão">
                            </div>
                        </div>
                        <div class="imagem-opcao" data-imagem="flash.png" data-jogador="2" data-nome="Flash">
                            <div class="imagem-preview">
                                <img src="../assets/flash.png" alt="Flash">
                            </div>
                        </div>
                        <div class="imagem-opcao" data-imagem="hulk.png" data-jogador="2" data-nome="Hulk">
                            <div class="imagem-preview">
                                <img src="../assets/hulk.png" alt="Hulk">
                            </div>
                        </div>
                        <div class="imagem-opcao" data-imagem="lanterna verde.png" data-jogador="2" data-nome="Lanterna Verde">
                            <div class="imagem-preview">
                                <img src="../assets/lanterna verde.png" alt="Lanterna Verde">
                            </div>
                        </div>
                        <div class="imagem-opcao" data-imagem="spider-man.png" data-jogador="2" data-nome="Spider-Man">
                            <div class="imagem-preview">
                                <img src="../assets/spider-man.png" alt="Spider-Man">
                            </div>
                        </div>
                        <div class="imagem-opcao" data-imagem="superman.png" data-jogador="2" data-nome="Superman">
                            <div class="imagem-preview">
                                <img src="../assets/superman.png" alt="Superman">
                            </div>
                        </div>
                        <div class="imagem-opcao" data-imagem="thor.png" data-jogador="2" data-nome="Thor">
                            <div class="imagem-preview">
                                <img src="../assets/thor.png" alt="Thor">
                            </div>
                        </div>
                        <div class="imagem-opcao" data-imagem="wolverine.png" data-jogador="2" data-nome="Wolverine">
                            <div class="imagem-preview">
                                <img src="../assets/wolverine.png" alt="Wolverine">
                            </div>
                        </div>
                    </div>
                    <div class="simbolo-selecao">
                        <label>Símbolo:</label>
                        <div class="simbolos-opcoes">
                            <button class="simbolo-btn" data-simbolo="X" data-jogador="2">X</button>
                            <button class="simbolo-btn ativo" data-simbolo="O" data-jogador="2">O</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div style="text-align: center; padding: 20px;">
        <button class="btn-iniciar" id="btn-iniciar" disabled>INICIAR</button>
    </div>

    <script>
        let jogador1 = { nome: '', imagem: null, simbolo: 'X' };
        let jogador2 = { nome: '', imagem: null, simbolo: 'O' };

        // Atualiza nome quando digitado
        document.getElementById('nome-jogador1').addEventListener('input', function() {
            jogador1.nome = this.value.trim() || 'Jogador 1';
            verificarSelecao();
        });

        document.getElementById('nome-jogador2').addEventListener('input', function() {
            jogador2.nome = this.value.trim() || 'Jogador 2';
            verificarSelecao();
        });

        // Seleção de imagens
        document.querySelectorAll('.imagem-opcao').forEach(opcao => {
            opcao.addEventListener('click', function() {
                const jogador = this.getAttribute('data-jogador');
                const imagem = this.getAttribute('data-imagem');
                
                // Remove seleção anterior
                document.querySelectorAll(`.imagem-opcao[data-jogador="${jogador}"]`).forEach(el => {
                    el.classList.remove('selecionada');
                });
                
                // Adiciona seleção atual
                this.classList.add('selecionada');
                
                if (jogador === '1') {
                    jogador1.imagem = imagem;
                } else {
                    jogador2.imagem = imagem;
                }
                
                verificarSelecao();
            });
        });

        // Seleção de símbolos
        document.querySelectorAll('.simbolo-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const jogador = this.getAttribute('data-jogador');
                const simbolo = this.getAttribute('data-simbolo');
                
                // Remove seleção anterior do mesmo jogador
                document.querySelectorAll(`.simbolo-btn[data-jogador="${jogador}"]`).forEach(el => {
                    el.classList.remove('ativo');
                });
                
                // Adiciona seleção atual
                this.classList.add('ativo');
                
                // Define o símbolo do jogador que clicou
                if (jogador === '1') {
                    jogador1.simbolo = simbolo;
                    // Jogador 2 automaticamente recebe o símbolo oposto
                    jogador2.simbolo = simbolo === 'X' ? 'O' : 'X';
                } else {
                    jogador2.simbolo = simbolo;
                    // Jogador 1 automaticamente recebe o símbolo oposto
                    jogador1.simbolo = simbolo === 'X' ? 'O' : 'X';
                }
                
                // Atualiza visualmente os botões do outro jogador
                const outroJogador = jogador === '1' ? '2' : '1';
                document.querySelectorAll(`.simbolo-btn[data-jogador="${outroJogador}"]`).forEach(btn => {
                    const simboloBtn = btn.getAttribute('data-simbolo');
                    btn.classList.toggle('ativo', simboloBtn === (jogador === '1' ? jogador2.simbolo : jogador1.simbolo));
                });
                
                verificarSelecao();
            });
        });

        function verificarSelecao() {
            // Obtém nomes dos inputs (ou usa padrão)
            const nome1 = document.getElementById('nome-jogador1').value.trim();
            const nome2 = document.getElementById('nome-jogador2').value.trim();
            
            jogador1.nome = nome1 || 'Jogador 1';
            jogador2.nome = nome2 || 'Jogador 2';
            
            // Verifica se tudo está preenchido (imagens e símbolos são obrigatórios)
            // Garante que os símbolos sejam diferentes (um X e um O)
            const simbolosValidos = jogador1.simbolo && jogador2.simbolo && jogador1.simbolo !== jogador2.simbolo;
            
            if (jogador1.imagem && jogador2.imagem && simbolosValidos) {
                document.getElementById('btn-iniciar').disabled = false;
            } else {
                document.getElementById('btn-iniciar').disabled = true;
            }
        }

        // Iniciar jogo
        document.getElementById('btn-iniciar').addEventListener('click', function() {
            // Garante nomes padrão se vazios
            if (!jogador1.nome || jogador1.nome.trim() === '') {
                jogador1.nome = 'Jogador 1';
            }
            if (!jogador2.nome || jogador2.nome.trim() === '') {
                jogador2.nome = 'Jogador 2';
            }
            
            // Salva dados dos jogadores no sessionStorage
            sessionStorage.setItem('jogador1', JSON.stringify(jogador1));
            sessionStorage.setItem('jogador2', JSON.stringify(jogador2));
            
            // Redireciona para o jogo
            window.location.href = 'index.html';
        });
    </script>
</body>
</html>
